{% extends 'admin/base_site.html' %}
{% load static header inline_select update_button panel columns table %}

{% block title %}Perfil a través de trayectoria{% endblock %}

{% block css %}
{% with "components/gentelella/vendors/" as gentelella_static %}
  <link href="{% static gentelella_static|add:"bootstrap-daterangepicker/daterangepicker.css" %}" rel="stylesheet">
  <link href="{% static gentelella_static|add:"select2/dist/css/select2.min.css" %}" rel="stylesheet">
<!-- iCheck -->
  <link href="{% static gentelella_static|add:"iCheck/skins/flat/green.css" %}" rel="stylesheet">

  <link href="{% static gentelella_static|add:"datatables.net-bs/css/dataTables.bootstrap.min.css" %}" rel="stylesheet">
  <link href="{% static gentelella_static|add:"datatables.net-fixedheader-bs/css/fixedHeader.bootstrap.min.css" %}" rel="stylesheet">
  <link href="{% static gentelella_static|add:"datatables.net-responsive-bs/css/responsive.bootstrap.min.css" %}" rel="stylesheet">
  <link href="{% static gentelella_static|add:"datatables.net-scroller-bs/css/scroller.bootstrap.min.css" %}" rel="stylesheet">
  <link href="{% static gentelella_static|add:"datatables.net-scroller-bs/css/scroller.bootstrap.min.css" %}" rel="stylesheet">
  <style>
.select2-container .select2-choice:not(.select2-default) {
    background-image: none !important;
    background-color: #D9FFC7;
}
  </style>
{% endwith %}
{% endblock %}

{% block content %}
<div class="">
    {% header "Perfil de carga" "por trayectoria" %}

  <div class="row">
    <div class="col-md-12 col-sm-12 col-xs-12">

    {% inline_select "Día:" "dayFilter" days as days_select %}
    {% columns 2 2 12 days_select as col1 %}

    {% inline_select "Servicio-sentido:" "routeFilter" routes as route_select %}
    {% columns 2 2 12 route_select as col2 %}

    {% inline_select "Tipo de día:" "dayTypeFilter" dayTypes True as dayType_select %}
    {% columns 2 2 12 dayType_select as col3 %}

    {% inline_select "Período:" "periodFilter" periods True as period_select %}
    {% columns 2 2 12 period_select as col4 %}

    {% inline_select "Media hora:" "minutePeriodFilter" minutes True as period_select %}
    {% columns 2 2 12 period_select as col5 %}

    {% update_button "btnUpdateChart" "Actualizar datos" as update_button %}
    {% columns 12 12 12 update_button as col6 %}

    {% panel "fa-filter" "Filtro" col1|add:col2|add:col3|add:col4|add:col5|add:col6 %}
    </div>
  </div>

  <div class="row">
  <div class="col-md-12 col-sm-12 col-xs-12">
      {% with barChart='<div id="barChart" style="height:800px;"></div>' %}
          {% columns 12 12 12 barChart as col6 %}
          {% panel "fa-bar-chart" "Perfil de carga con trayectoria <small>para <strong id='expeditionNumber'>N</strong> expediciones</small>" col6 %}
      {% endwith %}
  </div>
  </div>

  <div class="row">
    <div class="col-md-12 col-sm-12 col-xs-12">
        {% table "expeditionDetail" 6 as expeditionTable %}
        {% panel "fa-truck" 'Expediciones (<strong id="expeditionNumber2">N</strong>)' expeditionTable %}
    </div>
  </div>
</div>
{% endblock %}

{% block js %}
    {% with "components/gentelella/vendors/" as gentelella_static %}
        <script src="{% static gentelella_static|add:"moment/min/moment-with-locales.min.js" %}"></script>
        <script src="{% static gentelella_static|add:"bootstrap-daterangepicker/daterangepicker.js" %}"></script>
        <script src="{% static gentelella_static|add:"jquery.tagsinput/src/jquery.tagsinput.js" %}"></script>
        <script src="{% static gentelella_static|add:"select2/dist/js/select2.min.js" %}"></script>

        <script src="{% static gentelella_static|add:"datatables.net/js/jquery.dataTables.min.js" %}"></script>
        <script src="{% static gentelella_static|add:"datatables.net-bs/js/dataTables.bootstrap.min.js" %}"></script>
        <script src="{% static gentelella_static|add:"datatables.net-fixedheader/js/dataTables.fixedHeader.min.js" %}"></script>
        <script src="{% static gentelella_static|add:"datatables.net-responsive/js/dataTables.responsive.min.js" %}"></script>
        <script src="{% static gentelella_static|add:"datatables.net-responsive-bs/js/responsive.bootstrap.js" %}"></script>
        <script src="{% static gentelella_static|add:"datatables.net-scroller/js/dataTables.scroller.min.js" %}"></script>

        <script src="{% static gentelella_static|add:"jquery-sparkline/dist/jquery.sparkline.min.js" %}"></script>
        <script src="{% static gentelella_static|add:"iCheck/icheck.min.js" %}"></script>
    {% endwith %}
    <script src="{% static "components/echarts/dist/echarts.min.js" %}"></script>
    <script src="{% static "js/echartsTheme.js" %}"></script>
    <script src="{% static "js/trajectory.js" %}"></script>
{% endblock %}
